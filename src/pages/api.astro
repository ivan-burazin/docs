---
import { getCollection } from 'astro:content'
import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro'
import { createPathData } from '@astrojs/starlight/utils/routing'

const apiDocs = await getCollection('api')
const frontmatter = {
  title: 'Daytona API Documentation',
  description: 'Complete reference documentation for the Daytona API',
  template: 'splash',
}

const pathData = await createPathData({ locale: 'en' })
---

<StarlightPage frontmatter={frontmatter} {...pathData}>
  <h1>Daytona API Documentation</h1>
  <nav>
    <ul>
      {
        apiDocs.map(doc => (
          <li>
            <a href={`/api/${doc.slug}`}>{doc.data.title}</a>
          </li>
        ))
      }
    </ul>
  </nav>
</StarlightPage>
