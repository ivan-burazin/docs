---
import { getCollection } from 'astro:content'
import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro'
import { getStarlightDocumentData } from '@astrojs/starlight/utils/routing'

const apiDocs = await getCollection('api')
const documentData = await getStarlightDocumentData({
  id: 'api/index',
  slug: 'api',
  lang: 'en',
})
---

<StarlightPage
  frontmatter={{ title: 'Daytona API Documentation' }}
  {...documentData}
>
  <h1>Daytona API Documentation</h1>
  <nav>
    <ul>
      {
        apiDocs.map(doc => (
          <li>
            <a href={`/api/${doc.slug}`}>{doc.data.title}</a>
          </li>
        ))
      }
    </ul>
  </nav>
</StarlightPage>
